<script setup lang="ts">
import { inject } from 'vue'

// –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ Telegram —á–µ—Ä–µ–∑ inject
const telegramUser = inject('telegramUser')

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
const showMainButtonExample = () => {
  if (telegramUser) {
    telegramUser.showMainButton('üç≥ –ù–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤–∏—Ç—å!', () => {
      console.log('–ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞!')
      telegramUser.hapticFeedback('success')
      // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è –Ω–∞—á–∞–ª–∞ –≥–æ—Ç–æ–≤–∫–∏
    })
  }
}
</script>

<template>
  <div class="min-h-screen bg-gray-100 py-12 px-4">
    <div class="max-w-4xl mx-auto">
      <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ Telegram -->
      <div v-if="telegramUser.isReady && telegramUser.user" class="mb-8 p-4 bg-blue-50 rounded-lg border border-blue-200">
        <h3 class="text-lg font-medium text-blue-900 mb-2">üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h3>
        <div class="text-sm text-blue-700 space-y-1">
          <p><strong>ID:</strong> {{ telegramUser.user.id }}</p>
          <p><strong>–ò–º—è:</strong> {{ telegramUser.user.first_name }}</p>
          <p v-if="telegramUser.user.last_name"><strong>–§–∞–º–∏–ª–∏—è:</strong> {{ telegramUser.user.last_name }}</p>
          <p v-if="telegramUser.user.username"><strong>Username:</strong> @{{ telegramUser.user.username }}</p>
          <p v-if="telegramUser.user.language_code"><strong>–Ø–∑—ã–∫:</strong> {{ telegramUser.user.language_code }}</p>
        </div>
      </div>

      <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ -->
      <div v-if="telegramUser.error" class="mb-8 p-4 bg-red-50 rounded-lg border border-red-200">
        <p class="text-red-700">{{ telegramUser.error }}</p>
      </div>

      <h1 class="text-4xl font-bold text-gray-900 mb-8">üç≥ Cooking App</h1>
      
      <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–æ—Ç–æ–≤–∫–∏!</h2>
        <p class="text-gray-600 mb-6">
          –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —Ä–µ—Ü–µ–ø—Ç—ã, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ–Ω—é –∏ –≤–µ—Å—Ç–∏ –¥–Ω–µ–≤–Ω–∏–∫ –∫—É–ª–∏–Ω–∞—Ä–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
            <h3 class="text-lg font-medium text-blue-900 mb-2">üìñ –†–µ—Ü–µ–ø—Ç—ã</h3>
            <p class="text-blue-700 text-sm">–ë–æ–ª—å—à–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤</p>
          </div>
          
          <div class="bg-green-50 p-4 rounded-lg border border-green-200">
            <h3 class="text-lg font-medium text-green-900 mb-2">üìÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <p class="text-green-700 text-sm">–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –º–µ–Ω—é –Ω–∞ –Ω–µ–¥–µ–ª—é</p>
          </div>
          
          <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
            <h3 class="text-lg font-medium text-purple-900 mb-2">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h3>
            <p class="text-purple-700 text-sm">–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã</p>
          </div>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Telegram WebApp -->
        <div v-if="telegramUser.isReady" class="mt-8 space-y-4">
          <div class="flex flex-wrap gap-4 justify-center">
            <button 
              @click="telegramUser.expandApp()"
              class="bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-6 rounded-lg transition-colors"
            >
              üì± –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            </button>
            
            <button 
              @click="showMainButtonExample"
              class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-6 rounded-lg transition-colors"
            >
              üîò –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            </button>
            
            <button 
              @click="telegramUser.hapticFeedback('medium')"
              class="bg-purple-500 hover:bg-purple-600 text-white font-medium py-2 px-6 rounded-lg transition-colors"
            >
              üì≥ Haptic Feedback
            </button>
          </div>
          
          <button 
            @click="telegramUser.closeApp()"
            class="bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-6 rounded-lg transition-colors"
          >
            ‚ùå –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
          </button>
        </div>
        
        <button class="mt-8 bg-orange-500 hover:bg-orange-600 text-white font-medium py-2 px-6 rounded-lg transition-colors">
          –ù–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤–∏—Ç—å
        </button>
      </div>
    </div>
  </div>
</template>
